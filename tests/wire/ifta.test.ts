// This file was auto-generated by Fern from our API Definition.

import * as Samsara from "../../src/api/index";
import { SamsaraClient } from "../../src/Client";
import { mockServerPool } from "../mock-server/MockServerPool";

describe("IftaClient", () => {
    test("getIftaJurisdictionReports (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: {
                jurisdictionReports: [
                    { jurisdiction: "GA", taxPaidLiters: 25.5, taxableMeters: 2350, totalMeters: 2350 },
                ],
                month: "January",
                quarter: "Q4",
                troubleshooting: {
                    noPurchasesFound: false,
                    unassignedFuelTypePurchases: 200,
                    unassignedFuelTypeVehicles: 2500,
                    unassignedVehiclePurchases: 2500,
                },
                year: 2021,
            },
        };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/jurisdiction")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.ifta.getIftaJurisdictionReports({
            year: 1000000,
        });
        expect(response).toEqual({
            data: {
                jurisdictionReports: [
                    {
                        jurisdiction: "GA",
                        taxPaidLiters: 25.5,
                        taxableMeters: 2350,
                        totalMeters: 2350,
                    },
                ],
                month: "January",
                quarter: "Q4",
                troubleshooting: {
                    noPurchasesFound: false,
                    unassignedFuelTypePurchases: 200,
                    unassignedFuelTypeVehicles: 2500,
                    unassignedVehiclePurchases: 2500,
                },
                year: 2021,
            },
        });
    });

    test("getIftaJurisdictionReports (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/jurisdiction")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaJurisdictionReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("getIftaJurisdictionReports (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/jurisdiction")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaJurisdictionReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("getIftaJurisdictionReports (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/jurisdiction")
            .respondWith()
            .statusCode(405)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaJurisdictionReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("getIftaJurisdictionReports (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/jurisdiction")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaJurisdictionReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("getIftaJurisdictionReports (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/jurisdiction")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaJurisdictionReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("getIftaJurisdictionReports (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/jurisdiction")
            .respondWith()
            .statusCode(501)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaJurisdictionReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("getIftaJurisdictionReports (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/jurisdiction")
            .respondWith()
            .statusCode(502)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaJurisdictionReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("getIftaJurisdictionReports (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/jurisdiction")
            .respondWith()
            .statusCode(503)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaJurisdictionReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("getIftaJurisdictionReports (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/jurisdiction")
            .respondWith()
            .statusCode(504)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaJurisdictionReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });

    test("getIftaVehicleReports (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: {
                month: "January",
                quarter: "Q4",
                troubleshooting: {
                    noPurchasesFound: false,
                    unassignedFuelTypePurchases: 200,
                    unassignedFuelTypeVehicles: 2500,
                    unassignedVehiclePurchases: 2500,
                },
                vehicleReports: [
                    {
                        jurisdictions: [
                            { jurisdiction: "GA", taxPaidLiters: 25.5, taxableMeters: 2350, totalMeters: 2350 },
                        ],
                        vehicle: { id: "494123", name: "Fleet Truck #1" },
                    },
                ],
                year: 2021,
            },
            pagination: { endCursor: "MjkY", hasNextPage: true },
        };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/vehicle")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.ifta.getIftaVehicleReports({
            year: 1000000,
        });
        expect(response).toEqual({
            data: {
                month: "January",
                quarter: "Q4",
                troubleshooting: {
                    noPurchasesFound: false,
                    unassignedFuelTypePurchases: 200,
                    unassignedFuelTypeVehicles: 2500,
                    unassignedVehiclePurchases: 2500,
                },
                vehicleReports: [
                    {
                        jurisdictions: [
                            {
                                jurisdiction: "GA",
                                taxPaidLiters: 25.5,
                                taxableMeters: 2350,
                                totalMeters: 2350,
                            },
                        ],
                        vehicle: {
                            id: "494123",
                            name: "Fleet Truck #1",
                        },
                    },
                ],
                year: 2021,
            },
            pagination: {
                endCursor: "MjkY",
                hasNextPage: true,
            },
        });
    });

    test("getIftaVehicleReports (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/vehicle")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaVehicleReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("getIftaVehicleReports (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/vehicle")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaVehicleReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("getIftaVehicleReports (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/vehicle")
            .respondWith()
            .statusCode(405)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaVehicleReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("getIftaVehicleReports (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/vehicle")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaVehicleReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("getIftaVehicleReports (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/vehicle")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaVehicleReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("getIftaVehicleReports (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/vehicle")
            .respondWith()
            .statusCode(501)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaVehicleReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("getIftaVehicleReports (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/vehicle")
            .respondWith()
            .statusCode(502)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaVehicleReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("getIftaVehicleReports (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/vehicle")
            .respondWith()
            .statusCode(503)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaVehicleReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("getIftaVehicleReports (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/ifta/vehicle")
            .respondWith()
            .statusCode(504)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaVehicleReports({
                year: 1000000,
            });
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });

    test("createIftaDetailJob (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = { endHour: "2019-06-13T19:00:00Z", startHour: "2019-06-13T19:00:00Z" };
        const rawResponseBody = {
            data: {
                args: {
                    endHour: "2019-06-13T19:00:00Z",
                    startHour: "2019-06-13T19:00:00Z",
                    vehicleIds: [12345678, 56789123],
                },
                completedAtTime: "2019-06-13T19:00:00Z",
                details: "Try limiting the number of vehicles requested per job to reduce the processing duration.",
                failedAtTime: "2019-06-13T19:00:00Z",
                files: [
                    {
                        createdAtTime: "2019-06-13T19:00:00Z",
                        downloadUrl: "https://s3.download-url.com",
                        downloadUrlExpirationTime: "2019-06-13T19:00:00Z",
                        name: "output-001.csv.gz",
                        recordCount: 3744166038677327400,
                    },
                ],
                jobId: "8cabba84-bef4-4951-8cd2-78ce898fd8e6",
                jobStatus: "Requested",
                requestedAtTime: "2019-06-13T19:00:00Z",
                startedAtTime: "2019-06-13T19:00:00Z",
            },
        };
        server
            .mockEndpoint()
            .post("/ifta-detail/csv")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.ifta.createIftaDetailJob({
            endHour: "2019-06-13T19:00:00Z",
            startHour: "2019-06-13T19:00:00Z",
        });
        expect(response).toEqual({
            data: {
                args: {
                    endHour: "2019-06-13T19:00:00Z",
                    startHour: "2019-06-13T19:00:00Z",
                    vehicleIds: [12345678, 56789123],
                },
                completedAtTime: "2019-06-13T19:00:00Z",
                details: "Try limiting the number of vehicles requested per job to reduce the processing duration.",
                failedAtTime: "2019-06-13T19:00:00Z",
                files: [
                    {
                        createdAtTime: "2019-06-13T19:00:00Z",
                        downloadUrl: "https://s3.download-url.com",
                        downloadUrlExpirationTime: "2019-06-13T19:00:00Z",
                        name: "output-001.csv.gz",
                        recordCount: 3744166038677327400,
                    },
                ],
                jobId: "8cabba84-bef4-4951-8cd2-78ce898fd8e6",
                jobStatus: "Requested",
                requestedAtTime: "2019-06-13T19:00:00Z",
                startedAtTime: "2019-06-13T19:00:00Z",
            },
        });
    });

    test("createIftaDetailJob (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = { endHour: "endHour", startHour: "startHour" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/ifta-detail/csv")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.createIftaDetailJob({
                endHour: "endHour",
                startHour: "startHour",
            });
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("createIftaDetailJob (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = { endHour: "endHour", startHour: "startHour" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/ifta-detail/csv")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.createIftaDetailJob({
                endHour: "endHour",
                startHour: "startHour",
            });
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("createIftaDetailJob (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = { endHour: "endHour", startHour: "startHour" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/ifta-detail/csv")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(405)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.createIftaDetailJob({
                endHour: "endHour",
                startHour: "startHour",
            });
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("createIftaDetailJob (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = { endHour: "endHour", startHour: "startHour" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/ifta-detail/csv")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.createIftaDetailJob({
                endHour: "endHour",
                startHour: "startHour",
            });
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("createIftaDetailJob (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = { endHour: "endHour", startHour: "startHour" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/ifta-detail/csv")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.createIftaDetailJob({
                endHour: "endHour",
                startHour: "startHour",
            });
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("createIftaDetailJob (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = { endHour: "endHour", startHour: "startHour" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/ifta-detail/csv")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(501)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.createIftaDetailJob({
                endHour: "endHour",
                startHour: "startHour",
            });
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("createIftaDetailJob (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = { endHour: "endHour", startHour: "startHour" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/ifta-detail/csv")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(502)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.createIftaDetailJob({
                endHour: "endHour",
                startHour: "startHour",
            });
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("createIftaDetailJob (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = { endHour: "endHour", startHour: "startHour" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/ifta-detail/csv")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(503)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.createIftaDetailJob({
                endHour: "endHour",
                startHour: "startHour",
            });
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("createIftaDetailJob (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = { endHour: "endHour", startHour: "startHour" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/ifta-detail/csv")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(504)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.createIftaDetailJob({
                endHour: "endHour",
                startHour: "startHour",
            });
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });

    test("getIftaDetailJob (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: {
                args: {
                    endHour: "2019-06-13T19:00:00Z",
                    startHour: "2019-06-13T19:00:00Z",
                    vehicleIds: [12345678, 56789123],
                },
                completedAtTime: "2019-06-13T19:00:00Z",
                details: "Try limiting the number of vehicles requested per job to reduce the processing duration.",
                failedAtTime: "2019-06-13T19:00:00Z",
                files: [
                    {
                        createdAtTime: "2019-06-13T19:00:00Z",
                        downloadUrl: "https://s3.download-url.com",
                        downloadUrlExpirationTime: "2019-06-13T19:00:00Z",
                        name: "output-001.csv.gz",
                        recordCount: 3744166038677327400,
                    },
                ],
                jobId: "8cabba84-bef4-4951-8cd2-78ce898fd8e6",
                jobStatus: "Requested",
                requestedAtTime: "2019-06-13T19:00:00Z",
                startedAtTime: "2019-06-13T19:00:00Z",
            },
        };
        server
            .mockEndpoint()
            .get("/ifta-detail/csv/id")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.ifta.getIftaDetailJob({
            id: "id",
        });
        expect(response).toEqual({
            data: {
                args: {
                    endHour: "2019-06-13T19:00:00Z",
                    startHour: "2019-06-13T19:00:00Z",
                    vehicleIds: [12345678, 56789123],
                },
                completedAtTime: "2019-06-13T19:00:00Z",
                details: "Try limiting the number of vehicles requested per job to reduce the processing duration.",
                failedAtTime: "2019-06-13T19:00:00Z",
                files: [
                    {
                        createdAtTime: "2019-06-13T19:00:00Z",
                        downloadUrl: "https://s3.download-url.com",
                        downloadUrlExpirationTime: "2019-06-13T19:00:00Z",
                        name: "output-001.csv.gz",
                        recordCount: 3744166038677327400,
                    },
                ],
                jobId: "8cabba84-bef4-4951-8cd2-78ce898fd8e6",
                jobStatus: "Requested",
                requestedAtTime: "2019-06-13T19:00:00Z",
                startedAtTime: "2019-06-13T19:00:00Z",
            },
        });
    });

    test("getIftaDetailJob (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/ifta-detail/csv/id")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaDetailJob({
                id: "id",
            });
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("getIftaDetailJob (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/ifta-detail/csv/id")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaDetailJob({
                id: "id",
            });
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("getIftaDetailJob (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/ifta-detail/csv/id")
            .respondWith()
            .statusCode(405)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaDetailJob({
                id: "id",
            });
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("getIftaDetailJob (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/ifta-detail/csv/id")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaDetailJob({
                id: "id",
            });
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("getIftaDetailJob (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/ifta-detail/csv/id")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaDetailJob({
                id: "id",
            });
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("getIftaDetailJob (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/ifta-detail/csv/id")
            .respondWith()
            .statusCode(501)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaDetailJob({
                id: "id",
            });
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("getIftaDetailJob (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/ifta-detail/csv/id")
            .respondWith()
            .statusCode(502)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaDetailJob({
                id: "id",
            });
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("getIftaDetailJob (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/ifta-detail/csv/id")
            .respondWith()
            .statusCode(503)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaDetailJob({
                id: "id",
            });
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("getIftaDetailJob (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/ifta-detail/csv/id")
            .respondWith()
            .statusCode(504)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.ifta.getIftaDetailJob({
                id: "id",
            });
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });
});
