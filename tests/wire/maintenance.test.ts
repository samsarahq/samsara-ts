// This file was auto-generated by Fern from our API Definition.

import * as Samsara from "../../src/api/index";
import { SamsaraClient } from "../../src/Client";
import { mockServerPool } from "../mock-server/MockServerPool";

describe("MaintenanceClient", () => {
    test("getDefectTypes (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: [
                {
                    createdAtTime: "2020-01-27T07:06:25Z",
                    id: "25d6151e-29b5-453e-875a-7c5425332e09",
                    label: "Air Compressor",
                    sectionType: "exteriorFront",
                },
            ],
            pagination: { endCursor: "MjkY", hasNextPage: true },
        };
        server.mockEndpoint().get("/defect-types").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.maintenance.getDefectTypes();
        expect(response).toEqual({
            data: [
                {
                    createdAtTime: "2020-01-27T07:06:25Z",
                    id: "25d6151e-29b5-453e-875a-7c5425332e09",
                    label: "Air Compressor",
                    sectionType: "exteriorFront",
                },
            ],
            pagination: {
                endCursor: "MjkY",
                hasNextPage: true,
            },
        });
    });

    test("getDefectTypes (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defect-types").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefectTypes();
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("getDefectTypes (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defect-types").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefectTypes();
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("getDefectTypes (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defect-types").respondWith().statusCode(405).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefectTypes();
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("getDefectTypes (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defect-types").respondWith().statusCode(429).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefectTypes();
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("getDefectTypes (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defect-types").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefectTypes();
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("getDefectTypes (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defect-types").respondWith().statusCode(501).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefectTypes();
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("getDefectTypes (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defect-types").respondWith().statusCode(502).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefectTypes();
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("getDefectTypes (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defect-types").respondWith().statusCode(503).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefectTypes();
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("getDefectTypes (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defect-types").respondWith().statusCode(504).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefectTypes();
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });

    test("streamDefects (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: [
                {
                    comment: "Engine failure.",
                    createdAtTime: "2020-01-27T07:06:25Z",
                    defectPhotos: [
                        {
                            createdAtTime: "2020-01-27T07:06:25Z",
                            url: "https://s3.samsara.com/samsara-driver-media-upload/defect-photo-path",
                        },
                    ],
                    defectTypeId: "25d6151e-29b5-453e-875a-7c5425332e09",
                    dvirId: "292371177",
                    id: "9700544",
                    isResolved: true,
                    mechanicNotes: "Broken passenger side window.",
                    resolvedAtTime: "2020-01-27T07:06:25Z",
                    resolvedBy: { id: "8172", name: "Jane Mechanic", type: "driver" },
                    trailer: { id: "494123" },
                    updatedAtTime: "2020-01-27T07:06:25Z",
                    vehicle: { id: "494125" },
                },
            ],
            pagination: { endCursor: "MjkY", hasNextPage: true },
        };
        server.mockEndpoint().get("/defects/stream").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.maintenance.streamDefects({
            startTime: "startTime",
        });
        expect(response).toEqual({
            data: [
                {
                    comment: "Engine failure.",
                    createdAtTime: "2020-01-27T07:06:25Z",
                    defectPhotos: [
                        {
                            createdAtTime: "2020-01-27T07:06:25Z",
                            url: "https://s3.samsara.com/samsara-driver-media-upload/defect-photo-path",
                        },
                    ],
                    defectTypeId: "25d6151e-29b5-453e-875a-7c5425332e09",
                    dvirId: "292371177",
                    id: "9700544",
                    isResolved: true,
                    mechanicNotes: "Broken passenger side window.",
                    resolvedAtTime: "2020-01-27T07:06:25Z",
                    resolvedBy: {
                        id: "8172",
                        name: "Jane Mechanic",
                        type: "driver",
                    },
                    trailer: {
                        id: "494123",
                    },
                    updatedAtTime: "2020-01-27T07:06:25Z",
                    vehicle: {
                        id: "494125",
                    },
                },
            ],
            pagination: {
                endCursor: "MjkY",
                hasNextPage: true,
            },
        });
    });

    test("streamDefects (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/stream").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.streamDefects({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("streamDefects (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/stream").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.streamDefects({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("streamDefects (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/stream").respondWith().statusCode(405).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.streamDefects({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("streamDefects (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/stream").respondWith().statusCode(429).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.streamDefects({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("streamDefects (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/stream").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.streamDefects({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("streamDefects (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/stream").respondWith().statusCode(501).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.streamDefects({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("streamDefects (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/stream").respondWith().statusCode(502).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.streamDefects({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("streamDefects (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/stream").respondWith().statusCode(503).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.streamDefects({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("streamDefects (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/stream").respondWith().statusCode(504).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.streamDefects({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });

    test("getDefect (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            comment: "Engine failure.",
            createdAtTime: "2020-01-27T07:06:25Z",
            defectPhotos: [
                {
                    createdAtTime: "2020-01-27T07:06:25Z",
                    url: "https://s3.samsara.com/samsara-driver-media-upload/defect-photo-path",
                },
            ],
            defectTypeId: "25d6151e-29b5-453e-875a-7c5425332e09",
            dvirId: "292371177",
            id: "9700544",
            isResolved: true,
            mechanicNotes: "Broken passenger side window.",
            resolvedAtTime: "2020-01-27T07:06:25Z",
            resolvedBy: { id: "8172", name: "Jane Mechanic", type: "driver" },
            trailer: { externalIds: { key: "value" }, id: "494123" },
            updatedAtTime: "2020-01-27T07:06:25Z",
            vehicle: { externalIds: { key: "value" }, id: "494125" },
        };
        server.mockEndpoint().get("/defects/id").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.maintenance.getDefect("id");
        expect(response).toEqual({
            comment: "Engine failure.",
            createdAtTime: "2020-01-27T07:06:25Z",
            defectPhotos: [
                {
                    createdAtTime: "2020-01-27T07:06:25Z",
                    url: "https://s3.samsara.com/samsara-driver-media-upload/defect-photo-path",
                },
            ],
            defectTypeId: "25d6151e-29b5-453e-875a-7c5425332e09",
            dvirId: "292371177",
            id: "9700544",
            isResolved: true,
            mechanicNotes: "Broken passenger side window.",
            resolvedAtTime: "2020-01-27T07:06:25Z",
            resolvedBy: {
                id: "8172",
                name: "Jane Mechanic",
                type: "driver",
            },
            trailer: {
                externalIds: {
                    key: "value",
                },
                id: "494123",
            },
            updatedAtTime: "2020-01-27T07:06:25Z",
            vehicle: {
                externalIds: {
                    key: "value",
                },
                id: "494125",
            },
        });
    });

    test("getDefect (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/id").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefect("id");
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("getDefect (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/id").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefect("id");
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("getDefect (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/id").respondWith().statusCode(405).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefect("id");
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("getDefect (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/id").respondWith().statusCode(429).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefect("id");
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("getDefect (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/id").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefect("id");
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("getDefect (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/id").respondWith().statusCode(501).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefect("id");
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("getDefect (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/id").respondWith().statusCode(502).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefect("id");
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("getDefect (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/id").respondWith().statusCode(503).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefect("id");
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("getDefect (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/defects/id").respondWith().statusCode(504).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDefect("id");
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });

    test("getDvirs (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: [
                {
                    authorSignature: {
                        signatoryUser: { id: "938172" },
                        signedAtTime: "2020-01-27T07:06:25Z",
                        type: "driver",
                    },
                    defectIds: ["8d218e6c-7a16-4f9f-90f7-cc1d93b9e596", "25d6151e-29b5-453e-875a-7c5425332e09"],
                    dvirSubmissionBeginTime: "2020-01-27T07:06:25Z",
                    dvirSubmissionTime: "2020-01-27T07:06:25Z",
                    formattedAddress: "350 Rhode Island St Ste. 400S, San Francisco, CA 94103",
                    id: "12345",
                    mechanicNotes: "Replaced headlight on passenger side.",
                    odometerMeters: 91823,
                    safetyStatus: "unknown",
                    secondSignature: {
                        signatoryUser: { id: "938172" },
                        signedAtTime: "2020-01-27T07:06:25Z",
                        type: "driver",
                    },
                    thirdSignature: {
                        signatoryUser: { id: "938172" },
                        signedAtTime: "2020-01-27T07:06:25Z",
                        type: "driver",
                    },
                    trailer: { id: "494123" },
                    type: "preTrip",
                    updatedAtTime: "2020-01-27T07:06:25Z",
                    vehicle: { id: "494123" },
                    walkaroundPhotos: [
                        {
                            createdAtTime: "2020-01-27T07:06:25Z",
                            name: "Name 1",
                            url: "https://s3.samsara.com/samsara-driver-media-upload/walkaround-photo-path",
                        },
                    ],
                },
            ],
            pagination: { endCursor: "MjkY", hasNextPage: true },
        };
        server.mockEndpoint().get("/dvirs/stream").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.maintenance.getDvirs({
            startTime: "startTime",
        });
        expect(response).toEqual({
            data: [
                {
                    authorSignature: {
                        signatoryUser: {
                            id: "938172",
                        },
                        signedAtTime: "2020-01-27T07:06:25Z",
                        type: "driver",
                    },
                    defectIds: ["8d218e6c-7a16-4f9f-90f7-cc1d93b9e596", "25d6151e-29b5-453e-875a-7c5425332e09"],
                    dvirSubmissionBeginTime: "2020-01-27T07:06:25Z",
                    dvirSubmissionTime: "2020-01-27T07:06:25Z",
                    formattedAddress: "350 Rhode Island St Ste. 400S, San Francisco, CA 94103",
                    id: "12345",
                    mechanicNotes: "Replaced headlight on passenger side.",
                    odometerMeters: 91823,
                    safetyStatus: "unknown",
                    secondSignature: {
                        signatoryUser: {
                            id: "938172",
                        },
                        signedAtTime: "2020-01-27T07:06:25Z",
                        type: "driver",
                    },
                    thirdSignature: {
                        signatoryUser: {
                            id: "938172",
                        },
                        signedAtTime: "2020-01-27T07:06:25Z",
                        type: "driver",
                    },
                    trailer: {
                        id: "494123",
                    },
                    type: "preTrip",
                    updatedAtTime: "2020-01-27T07:06:25Z",
                    vehicle: {
                        id: "494123",
                    },
                    walkaroundPhotos: [
                        {
                            createdAtTime: "2020-01-27T07:06:25Z",
                            name: "Name 1",
                            url: "https://s3.samsara.com/samsara-driver-media-upload/walkaround-photo-path",
                        },
                    ],
                },
            ],
            pagination: {
                endCursor: "MjkY",
                hasNextPage: true,
            },
        });
    });

    test("getDvirs (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/stream").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvirs({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("getDvirs (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/stream").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvirs({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("getDvirs (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/stream").respondWith().statusCode(405).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvirs({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("getDvirs (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/stream").respondWith().statusCode(429).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvirs({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("getDvirs (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/stream").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvirs({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("getDvirs (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/stream").respondWith().statusCode(501).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvirs({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("getDvirs (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/stream").respondWith().statusCode(502).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvirs({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("getDvirs (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/stream").respondWith().statusCode(503).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvirs({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("getDvirs (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/stream").respondWith().statusCode(504).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvirs({
                startTime: "startTime",
            });
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });

    test("getDvir (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            authorSignature: { signatoryUser: { id: "938172" }, signedAtTime: "2020-01-27T07:06:25Z", type: "driver" },
            defectIds: ["8d218e6c-7a16-4f9f-90f7-cc1d93b9e596", "25d6151e-29b5-453e-875a-7c5425332e09"],
            dvirSubmissionBeginTime: "2020-01-27T07:06:25Z",
            dvirSubmissionTime: "2020-01-27T07:06:25Z",
            formattedAddress: "350 Rhode Island St Ste. 400S, San Francisco, CA 94103",
            id: "12345",
            mechanicNotes: "Replaced headlight on passenger side.",
            odometerMeters: 91823,
            safetyStatus: "unknown",
            secondSignature: { signatoryUser: { id: "938172" }, signedAtTime: "2020-01-27T07:06:25Z", type: "driver" },
            thirdSignature: { signatoryUser: { id: "938172" }, signedAtTime: "2020-01-27T07:06:25Z", type: "driver" },
            trailer: { externalIds: { key: "value" }, id: "494123" },
            type: "preTrip",
            updatedAtTime: "2020-01-27T07:06:25Z",
            vehicle: { externalIds: { key: "value" }, id: "494123" },
            walkaroundPhotos: [
                {
                    createdAtTime: "2020-01-27T07:06:25Z",
                    name: "Name 1",
                    url: "https://s3.samsara.com/samsara-driver-media-upload/walkaround-photo-path",
                },
            ],
        };
        server.mockEndpoint().get("/dvirs/id").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.maintenance.getDvir("id");
        expect(response).toEqual({
            authorSignature: {
                signatoryUser: {
                    id: "938172",
                },
                signedAtTime: "2020-01-27T07:06:25Z",
                type: "driver",
            },
            defectIds: ["8d218e6c-7a16-4f9f-90f7-cc1d93b9e596", "25d6151e-29b5-453e-875a-7c5425332e09"],
            dvirSubmissionBeginTime: "2020-01-27T07:06:25Z",
            dvirSubmissionTime: "2020-01-27T07:06:25Z",
            formattedAddress: "350 Rhode Island St Ste. 400S, San Francisco, CA 94103",
            id: "12345",
            mechanicNotes: "Replaced headlight on passenger side.",
            odometerMeters: 91823,
            safetyStatus: "unknown",
            secondSignature: {
                signatoryUser: {
                    id: "938172",
                },
                signedAtTime: "2020-01-27T07:06:25Z",
                type: "driver",
            },
            thirdSignature: {
                signatoryUser: {
                    id: "938172",
                },
                signedAtTime: "2020-01-27T07:06:25Z",
                type: "driver",
            },
            trailer: {
                externalIds: {
                    key: "value",
                },
                id: "494123",
            },
            type: "preTrip",
            updatedAtTime: "2020-01-27T07:06:25Z",
            vehicle: {
                externalIds: {
                    key: "value",
                },
                id: "494123",
            },
            walkaroundPhotos: [
                {
                    createdAtTime: "2020-01-27T07:06:25Z",
                    name: "Name 1",
                    url: "https://s3.samsara.com/samsara-driver-media-upload/walkaround-photo-path",
                },
            ],
        });
    });

    test("getDvir (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/id").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvir("id");
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("getDvir (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/id").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvir("id");
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("getDvir (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/id").respondWith().statusCode(405).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvir("id");
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("getDvir (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/id").respondWith().statusCode(429).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvir("id");
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("getDvir (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/id").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvir("id");
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("getDvir (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/id").respondWith().statusCode(501).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvir("id");
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("getDvir (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/id").respondWith().statusCode(502).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvir("id");
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("getDvir (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/id").respondWith().statusCode(503).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvir("id");
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("getDvir (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/dvirs/id").respondWith().statusCode(504).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.maintenance.getDvir("id");
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });

    test("updateDvirDefect", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = {};
        const rawResponseBody = {
            data: {
                comment: "Air Compressor not working",
                createdAtTime: "2020-01-27T07:06:25Z",
                defectType: "Air Compressor",
                id: "18",
                isResolved: true,
                mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                resolvedAtTime: "2020-01-27T07:06:25Z",
                resolvedBy: { id: "11", name: "Christopher 'The Handyman' Zhen", type: "driver" },
                trailer: { id: "123456789", name: "Midwest Trailer #5" },
                vehicle: {
                    ExternalIds: { maintenanceId: "250020", payrollId: "ABFS18600" },
                    id: "123456789",
                    name: "Midwest Truck #4",
                },
            },
        };
        server
            .mockEndpoint()
            .patch("/fleet/defects/id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.maintenance.updateDvirDefect("id");
        expect(response).toEqual({
            data: {
                comment: "Air Compressor not working",
                createdAtTime: "2020-01-27T07:06:25Z",
                defectType: "Air Compressor",
                id: "18",
                isResolved: true,
                mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                resolvedAtTime: "2020-01-27T07:06:25Z",
                resolvedBy: {
                    id: "11",
                    name: "Christopher 'The Handyman' Zhen",
                    type: "driver",
                },
                trailer: {
                    id: "123456789",
                    name: "Midwest Trailer #5",
                },
                vehicle: {
                    ExternalIds: {
                        maintenanceId: "250020",
                        payrollId: "ABFS18600",
                    },
                    id: "123456789",
                    name: "Midwest Truck #4",
                },
            },
        });
    });

    test("createDvir", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = { authorId: "11", safetyStatus: "safe", type: "mechanic" };
        const rawResponseBody = {
            data: {
                authorSignature: {
                    signatoryUser: { id: "88668", name: "Susan Bob" },
                    signedAtTime: "2020-01-27T07:06:25Z",
                    type: "driver",
                },
                endTime: "2020-01-27T07:06:25Z",
                id: "7107471",
                licensePlate: "XHK1234",
                location: "350 Rhode Island St Ste. 400S, San Francisco, CA 94103",
                mechanicNotes: "Replaced headlight on passenger side.",
                odometerMeters: 14010293,
                safetyStatus: "safe",
                secondSignature: {
                    signatoryUser: { id: "88668", name: "Susan Bob" },
                    signedAtTime: "2020-01-27T07:06:25Z",
                    type: "driver",
                },
                startTime: "2020-01-27T07:06:25Z",
                thirdSignature: {
                    signatoryUser: { id: "88668", name: "Susan Bob" },
                    signedAtTime: "2020-01-27T07:06:25Z",
                    type: "driver",
                },
                trailer: { id: "123456789", name: "Midwest Trailer #5" },
                trailerDefects: [
                    {
                        comment: "Air Compressor not working",
                        createdAtTime: "2020-01-27T07:06:25Z",
                        defectType: "Air Compressor",
                        id: "18",
                        isResolved: true,
                        mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                        mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                        resolvedAtTime: "2020-01-27T07:06:25Z",
                    },
                ],
                trailerName: "Midwest Trailer #5",
                type: "preTrip",
                vehicle: {
                    ExternalIds: { maintenanceId: "250020", payrollId: "ABFS18600" },
                    id: "123456789",
                    name: "Midwest Truck #4",
                },
                vehicleDefects: [
                    {
                        comment: "Air Compressor not working",
                        createdAtTime: "2020-01-27T07:06:25Z",
                        defectType: "Air Compressor",
                        id: "18",
                        isResolved: true,
                        mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                        mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                        resolvedAtTime: "2020-01-27T07:06:25Z",
                    },
                ],
            },
        };
        server
            .mockEndpoint()
            .post("/fleet/dvirs")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.maintenance.createDvir({
            authorId: "11",
            safetyStatus: "safe",
        });
        expect(response).toEqual({
            data: {
                authorSignature: {
                    signatoryUser: {
                        id: "88668",
                        name: "Susan Bob",
                    },
                    signedAtTime: "2020-01-27T07:06:25Z",
                    type: "driver",
                },
                endTime: "2020-01-27T07:06:25Z",
                id: "7107471",
                licensePlate: "XHK1234",
                location: "350 Rhode Island St Ste. 400S, San Francisco, CA 94103",
                mechanicNotes: "Replaced headlight on passenger side.",
                odometerMeters: 14010293,
                safetyStatus: "safe",
                secondSignature: {
                    signatoryUser: {
                        id: "88668",
                        name: "Susan Bob",
                    },
                    signedAtTime: "2020-01-27T07:06:25Z",
                    type: "driver",
                },
                startTime: "2020-01-27T07:06:25Z",
                thirdSignature: {
                    signatoryUser: {
                        id: "88668",
                        name: "Susan Bob",
                    },
                    signedAtTime: "2020-01-27T07:06:25Z",
                    type: "driver",
                },
                trailer: {
                    id: "123456789",
                    name: "Midwest Trailer #5",
                },
                trailerDefects: [
                    {
                        comment: "Air Compressor not working",
                        createdAtTime: "2020-01-27T07:06:25Z",
                        defectType: "Air Compressor",
                        id: "18",
                        isResolved: true,
                        mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                        mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                        resolvedAtTime: "2020-01-27T07:06:25Z",
                    },
                ],
                trailerName: "Midwest Trailer #5",
                type: "preTrip",
                vehicle: {
                    ExternalIds: {
                        maintenanceId: "250020",
                        payrollId: "ABFS18600",
                    },
                    id: "123456789",
                    name: "Midwest Truck #4",
                },
                vehicleDefects: [
                    {
                        comment: "Air Compressor not working",
                        createdAtTime: "2020-01-27T07:06:25Z",
                        defectType: "Air Compressor",
                        id: "18",
                        isResolved: true,
                        mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                        mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                        resolvedAtTime: "2020-01-27T07:06:25Z",
                    },
                ],
            },
        });
    });

    test("updateDvir", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });
        const rawRequestBody = { authorId: "11", isResolved: true };
        const rawResponseBody = {
            data: {
                authorSignature: {
                    signatoryUser: { id: "88668", name: "Susan Bob" },
                    signedAtTime: "2020-01-27T07:06:25Z",
                    type: "driver",
                },
                endTime: "2020-01-27T07:06:25Z",
                id: "7107471",
                licensePlate: "XHK1234",
                location: "350 Rhode Island St Ste. 400S, San Francisco, CA 94103",
                mechanicNotes: "Replaced headlight on passenger side.",
                odometerMeters: 14010293,
                safetyStatus: "safe",
                secondSignature: {
                    signatoryUser: { id: "88668", name: "Susan Bob" },
                    signedAtTime: "2020-01-27T07:06:25Z",
                    type: "driver",
                },
                startTime: "2020-01-27T07:06:25Z",
                thirdSignature: {
                    signatoryUser: { id: "88668", name: "Susan Bob" },
                    signedAtTime: "2020-01-27T07:06:25Z",
                    type: "driver",
                },
                trailer: { id: "123456789", name: "Midwest Trailer #5" },
                trailerDefects: [
                    {
                        comment: "Air Compressor not working",
                        createdAtTime: "2020-01-27T07:06:25Z",
                        defectType: "Air Compressor",
                        id: "18",
                        isResolved: true,
                        mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                        mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                        resolvedAtTime: "2020-01-27T07:06:25Z",
                    },
                ],
                trailerName: "Midwest Trailer #5",
                type: "preTrip",
                vehicle: {
                    ExternalIds: { maintenanceId: "250020", payrollId: "ABFS18600" },
                    id: "123456789",
                    name: "Midwest Truck #4",
                },
                vehicleDefects: [
                    {
                        comment: "Air Compressor not working",
                        createdAtTime: "2020-01-27T07:06:25Z",
                        defectType: "Air Compressor",
                        id: "18",
                        isResolved: true,
                        mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                        mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                        resolvedAtTime: "2020-01-27T07:06:25Z",
                    },
                ],
            },
        };
        server
            .mockEndpoint()
            .patch("/fleet/dvirs/id")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.maintenance.updateDvir("id", {
            authorId: "11",
            isResolved: true,
        });
        expect(response).toEqual({
            data: {
                authorSignature: {
                    signatoryUser: {
                        id: "88668",
                        name: "Susan Bob",
                    },
                    signedAtTime: "2020-01-27T07:06:25Z",
                    type: "driver",
                },
                endTime: "2020-01-27T07:06:25Z",
                id: "7107471",
                licensePlate: "XHK1234",
                location: "350 Rhode Island St Ste. 400S, San Francisco, CA 94103",
                mechanicNotes: "Replaced headlight on passenger side.",
                odometerMeters: 14010293,
                safetyStatus: "safe",
                secondSignature: {
                    signatoryUser: {
                        id: "88668",
                        name: "Susan Bob",
                    },
                    signedAtTime: "2020-01-27T07:06:25Z",
                    type: "driver",
                },
                startTime: "2020-01-27T07:06:25Z",
                thirdSignature: {
                    signatoryUser: {
                        id: "88668",
                        name: "Susan Bob",
                    },
                    signedAtTime: "2020-01-27T07:06:25Z",
                    type: "driver",
                },
                trailer: {
                    id: "123456789",
                    name: "Midwest Trailer #5",
                },
                trailerDefects: [
                    {
                        comment: "Air Compressor not working",
                        createdAtTime: "2020-01-27T07:06:25Z",
                        defectType: "Air Compressor",
                        id: "18",
                        isResolved: true,
                        mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                        mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                        resolvedAtTime: "2020-01-27T07:06:25Z",
                    },
                ],
                trailerName: "Midwest Trailer #5",
                type: "preTrip",
                vehicle: {
                    ExternalIds: {
                        maintenanceId: "250020",
                        payrollId: "ABFS18600",
                    },
                    id: "123456789",
                    name: "Midwest Truck #4",
                },
                vehicleDefects: [
                    {
                        comment: "Air Compressor not working",
                        createdAtTime: "2020-01-27T07:06:25Z",
                        defectType: "Air Compressor",
                        id: "18",
                        isResolved: true,
                        mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                        mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                        resolvedAtTime: "2020-01-27T07:06:25Z",
                    },
                ],
            },
        });
    });

    test("V1getFleetMaintenanceList", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { vehicles: [{ id: 112 }] };
        server
            .mockEndpoint()
            .get("/v1/fleet/maintenance/list")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.maintenance.v1GetFleetMaintenanceList();
        expect(response).toEqual({
            vehicles: [
                {
                    id: 112,
                },
            ],
        });
    });
});
