// This file was auto-generated by Fern from our API Definition.

import * as Samsara from "../../src/api/index";
import { SamsaraClient } from "../../src/Client";
import { mockServerPool } from "../mock-server/MockServerPool";

describe("LegacyApisClient", () => {
    test("getDvirDefects", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: [
                {
                    comment: "Air Compressor not working",
                    createdAtTime: "2020-01-27T07:06:25Z",
                    defectType: "Air Compressor",
                    id: "18",
                    isResolved: true,
                    mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                    mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                    resolvedAtTime: "2020-01-27T07:06:25Z",
                    resolvedBy: { id: "11", name: "Christopher 'The Handyman' Zhen" },
                    trailer: { id: "123456789", name: "Midwest Trailer #5" },
                    vehicle: {
                        ExternalIds: { maintenanceId: "250020", payrollId: "ABFS18600" },
                        id: "123456789",
                        name: "Midwest Truck #4",
                    },
                },
            ],
            pagination: { endCursor: "MjkY", hasNextPage: true },
        };
        server
            .mockEndpoint()
            .get("/fleet/defects/history")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.legacyApis.getDvirDefects({
            startTime: "startTime",
            endTime: "endTime",
        });
        expect(response).toEqual({
            data: [
                {
                    comment: "Air Compressor not working",
                    createdAtTime: "2020-01-27T07:06:25Z",
                    defectType: "Air Compressor",
                    id: "18",
                    isResolved: true,
                    mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                    mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                    resolvedAtTime: "2020-01-27T07:06:25Z",
                    resolvedBy: {
                        id: "11",
                        name: "Christopher 'The Handyman' Zhen",
                    },
                    trailer: {
                        id: "123456789",
                        name: "Midwest Trailer #5",
                    },
                    vehicle: {
                        ExternalIds: {
                            maintenanceId: "250020",
                            payrollId: "ABFS18600",
                        },
                        id: "123456789",
                        name: "Midwest Truck #4",
                    },
                },
            ],
            pagination: {
                endCursor: "MjkY",
                hasNextPage: true,
            },
        });
    });

    test("getDriversVehicleAssignments (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: [
                {
                    driverActivationStatus: "active",
                    externalIds: { key: "value" },
                    id: "494123",
                    name: "Joe Driver",
                    vehicleAssignments: [
                        {
                            assignmentType: "driverApp",
                            endTime: "2019-06-13T19:08:25Z",
                            isPassenger: false,
                            startTime: "2019-06-13T19:08:25Z",
                            vehicle: { id: "494123", name: "Fleet Truck #1" },
                        },
                    ],
                },
            ],
            pagination: { endCursor: "MjkY", hasNextPage: true },
        };
        server
            .mockEndpoint()
            .get("/fleet/drivers/vehicle-assignments")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.legacyApis.getDriversVehicleAssignments();
        expect(response).toEqual({
            data: [
                {
                    driverActivationStatus: "active",
                    externalIds: {
                        key: "value",
                    },
                    id: "494123",
                    name: "Joe Driver",
                    vehicleAssignments: [
                        {
                            assignmentType: "driverApp",
                            endTime: "2019-06-13T19:08:25Z",
                            isPassenger: false,
                            startTime: "2019-06-13T19:08:25Z",
                            vehicle: {
                                id: "494123",
                                name: "Fleet Truck #1",
                            },
                        },
                    ],
                },
            ],
            pagination: {
                endCursor: "MjkY",
                hasNextPage: true,
            },
        });
    });

    test("getDriversVehicleAssignments (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/drivers/vehicle-assignments")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getDriversVehicleAssignments();
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("getDriversVehicleAssignments (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/drivers/vehicle-assignments")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getDriversVehicleAssignments();
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("getDriversVehicleAssignments (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/drivers/vehicle-assignments")
            .respondWith()
            .statusCode(405)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getDriversVehicleAssignments();
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("getDriversVehicleAssignments (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/drivers/vehicle-assignments")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getDriversVehicleAssignments();
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("getDriversVehicleAssignments (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/drivers/vehicle-assignments")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getDriversVehicleAssignments();
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("getDriversVehicleAssignments (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/drivers/vehicle-assignments")
            .respondWith()
            .statusCode(501)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getDriversVehicleAssignments();
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("getDriversVehicleAssignments (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/drivers/vehicle-assignments")
            .respondWith()
            .statusCode(502)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getDriversVehicleAssignments();
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("getDriversVehicleAssignments (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/drivers/vehicle-assignments")
            .respondWith()
            .statusCode(503)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getDriversVehicleAssignments();
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("getDriversVehicleAssignments (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/drivers/vehicle-assignments")
            .respondWith()
            .statusCode(504)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getDriversVehicleAssignments();
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });

    test("getDvirHistory", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: [
                {
                    authorSignature: { signedAtTime: "2020-01-27T07:06:25Z" },
                    endTime: "2020-01-27T07:06:25Z",
                    id: "7107471",
                    licensePlate: "XHK1234",
                    location: "350 Rhode Island St Ste. 400S, San Francisco, CA 94103",
                    mechanicNotes: "Replaced headlight on passenger side.",
                    odometerMeters: 14010293,
                    safetyStatus: "safe",
                    secondSignature: { signedAtTime: "2020-01-27T07:06:25Z" },
                    startTime: "2020-01-27T07:06:25Z",
                    thirdSignature: { signedAtTime: "2020-01-27T07:06:25Z" },
                    trailer: { id: "123456789", name: "Midwest Trailer #5" },
                    trailerDefects: [
                        {
                            comment: "Air Compressor not working",
                            createdAtTime: "2020-01-27T07:06:25Z",
                            defectType: "Air Compressor",
                            id: "18",
                            isResolved: true,
                            mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                            mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                            resolvedAtTime: "2020-01-27T07:06:25Z",
                        },
                    ],
                    trailerName: "Midwest Trailer #5",
                    type: "preTrip",
                    vehicle: {
                        ExternalIds: { maintenanceId: "250020", payrollId: "ABFS18600" },
                        id: "123456789",
                        name: "Midwest Truck #4",
                    },
                    vehicleDefects: [
                        {
                            comment: "Air Compressor not working",
                            createdAtTime: "2020-01-27T07:06:25Z",
                            defectType: "Air Compressor",
                            id: "18",
                            isResolved: true,
                            mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                            mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                            resolvedAtTime: "2020-01-27T07:06:25Z",
                        },
                    ],
                },
            ],
            pagination: { endCursor: "MjkY", hasNextPage: true },
        };
        server
            .mockEndpoint()
            .get("/fleet/dvirs/history")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.legacyApis.getDvirHistory({
            startTime: "startTime",
            endTime: "endTime",
        });
        expect(response).toEqual({
            data: [
                {
                    authorSignature: {
                        signedAtTime: "2020-01-27T07:06:25Z",
                    },
                    endTime: "2020-01-27T07:06:25Z",
                    id: "7107471",
                    licensePlate: "XHK1234",
                    location: "350 Rhode Island St Ste. 400S, San Francisco, CA 94103",
                    mechanicNotes: "Replaced headlight on passenger side.",
                    odometerMeters: 14010293,
                    safetyStatus: "safe",
                    secondSignature: {
                        signedAtTime: "2020-01-27T07:06:25Z",
                    },
                    startTime: "2020-01-27T07:06:25Z",
                    thirdSignature: {
                        signedAtTime: "2020-01-27T07:06:25Z",
                    },
                    trailer: {
                        id: "123456789",
                        name: "Midwest Trailer #5",
                    },
                    trailerDefects: [
                        {
                            comment: "Air Compressor not working",
                            createdAtTime: "2020-01-27T07:06:25Z",
                            defectType: "Air Compressor",
                            id: "18",
                            isResolved: true,
                            mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                            mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                            resolvedAtTime: "2020-01-27T07:06:25Z",
                        },
                    ],
                    trailerName: "Midwest Trailer #5",
                    type: "preTrip",
                    vehicle: {
                        ExternalIds: {
                            maintenanceId: "250020",
                            payrollId: "ABFS18600",
                        },
                        id: "123456789",
                        name: "Midwest Truck #4",
                    },
                    vehicleDefects: [
                        {
                            comment: "Air Compressor not working",
                            createdAtTime: "2020-01-27T07:06:25Z",
                            defectType: "Air Compressor",
                            id: "18",
                            isResolved: true,
                            mechanicNotes: "Extremely large oddly shaped hole in passenger side window.",
                            mechanicNotesUpdatedAtTime: "2020-01-27T07:06:25Z",
                            resolvedAtTime: "2020-01-27T07:06:25Z",
                        },
                    ],
                },
            ],
            pagination: {
                endCursor: "MjkY",
                hasNextPage: true,
            },
        });
    });

    test("getVehicleIdlingReports (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: [
                {
                    address: {
                        formatted: "123 Main Street Atlanta, GA 30307",
                        latitude: 34.654567,
                        longitude: 34.654567,
                    },
                    durationMs: 860000,
                    endTime: "2019-06-13T19:08:25Z",
                    fuelConsumptionMl: 2500,
                    isPtoActive: false,
                    startTime: "2019-06-13T19:08:25Z",
                    vehicle: { id: "494123", name: "Fleet Truck #1" },
                },
            ],
            pagination: { endCursor: "MjkY", hasNextPage: true },
            requestEndTime: "2019-06-13T19:08:25Z",
            requestStartTime: "2019-06-13T19:08:25Z",
        };
        server
            .mockEndpoint()
            .get("/fleet/reports/vehicle/idling")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.legacyApis.getVehicleIdlingReports({
            startTime: "startTime",
            endTime: "endTime",
        });
        expect(response).toEqual({
            data: [
                {
                    address: {
                        formatted: "123 Main Street Atlanta, GA 30307",
                        latitude: 34.654567,
                        longitude: 34.654567,
                    },
                    durationMs: 860000,
                    endTime: "2019-06-13T19:08:25Z",
                    fuelConsumptionMl: 2500,
                    isPtoActive: false,
                    startTime: "2019-06-13T19:08:25Z",
                    vehicle: {
                        id: "494123",
                        name: "Fleet Truck #1",
                    },
                },
            ],
            pagination: {
                endCursor: "MjkY",
                hasNextPage: true,
            },
            requestEndTime: "2019-06-13T19:08:25Z",
            requestStartTime: "2019-06-13T19:08:25Z",
        });
    });

    test("getVehicleIdlingReports (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/vehicle/idling")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehicleIdlingReports({
                startTime: "startTime",
                endTime: "endTime",
            });
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("getVehicleIdlingReports (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/vehicle/idling")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehicleIdlingReports({
                startTime: "startTime",
                endTime: "endTime",
            });
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("getVehicleIdlingReports (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/vehicle/idling")
            .respondWith()
            .statusCode(405)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehicleIdlingReports({
                startTime: "startTime",
                endTime: "endTime",
            });
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("getVehicleIdlingReports (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/vehicle/idling")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehicleIdlingReports({
                startTime: "startTime",
                endTime: "endTime",
            });
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("getVehicleIdlingReports (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/vehicle/idling")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehicleIdlingReports({
                startTime: "startTime",
                endTime: "endTime",
            });
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("getVehicleIdlingReports (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/vehicle/idling")
            .respondWith()
            .statusCode(501)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehicleIdlingReports({
                startTime: "startTime",
                endTime: "endTime",
            });
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("getVehicleIdlingReports (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/vehicle/idling")
            .respondWith()
            .statusCode(502)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehicleIdlingReports({
                startTime: "startTime",
                endTime: "endTime",
            });
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("getVehicleIdlingReports (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/vehicle/idling")
            .respondWith()
            .statusCode(503)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehicleIdlingReports({
                startTime: "startTime",
                endTime: "endTime",
            });
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("getVehicleIdlingReports (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/reports/vehicle/idling")
            .respondWith()
            .statusCode(504)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehicleIdlingReports({
                startTime: "startTime",
                endTime: "endTime",
            });
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });

    test("getSafetyEvents", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: [
                {
                    behaviorLabels: [{ label: "genericTailgating", name: "Tailgating", source: "automated" }],
                    coachingState: "needsReview",
                    downloadForwardVideoUrl:
                        "https://s3.console.aws.amazon.com/s3/buckets/samsara-dashcam-videos/21575/212014918400828/1553060687222/huKA7IhpBV-camera-video-segment-1244214895.mp4",
                    downloadInwardVideoUrl:
                        "https://s3.console.aws.amazon.com/s3/buckets/samsara-dashcam-videos/21575/212014918400828/1553060687222/huKA7IhpBV-camera-video-segment-1244214895.mp4",
                    downloadTrackedInwardVideoUrl:
                        "https://s3.console.aws.amazon.com/s3/buckets/samsara-dashcam-videos/21575/212014918400828/1553060687222/huKA7IhpBV-camera-video-segment-1244214895.mp4",
                    driver: { id: "88668", name: "Susan Bob" },
                    id: "212014918174029-1550954461759",
                    location: { latitude: 122.142, longitude: -93.343 },
                    maxAccelerationGForce: 0.123,
                    time: "2019-06-13T19:08:25.455Z",
                    vehicle: {
                        ExternalIds: { maintenanceId: "250020", payrollId: "ABFS18600" },
                        id: "123456789",
                        name: "Midwest Truck #4",
                    },
                },
            ],
            pagination: { endCursor: "MjkY", hasNextPage: true },
        };
        server
            .mockEndpoint()
            .get("/fleet/safety-events")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.legacyApis.getSafetyEvents({
            startTime: "startTime",
            endTime: "endTime",
        });
        expect(response).toEqual({
            data: [
                {
                    behaviorLabels: [
                        {
                            label: "genericTailgating",
                            name: "Tailgating",
                            source: "automated",
                        },
                    ],
                    coachingState: "needsReview",
                    downloadForwardVideoUrl:
                        "https://s3.console.aws.amazon.com/s3/buckets/samsara-dashcam-videos/21575/212014918400828/1553060687222/huKA7IhpBV-camera-video-segment-1244214895.mp4",
                    downloadInwardVideoUrl:
                        "https://s3.console.aws.amazon.com/s3/buckets/samsara-dashcam-videos/21575/212014918400828/1553060687222/huKA7IhpBV-camera-video-segment-1244214895.mp4",
                    downloadTrackedInwardVideoUrl:
                        "https://s3.console.aws.amazon.com/s3/buckets/samsara-dashcam-videos/21575/212014918400828/1553060687222/huKA7IhpBV-camera-video-segment-1244214895.mp4",
                    driver: {
                        id: "88668",
                        name: "Susan Bob",
                    },
                    id: "212014918174029-1550954461759",
                    location: {
                        latitude: 122.142,
                        longitude: -93.343,
                    },
                    maxAccelerationGForce: 0.123,
                    time: "2019-06-13T19:08:25.455Z",
                    vehicle: {
                        ExternalIds: {
                            maintenanceId: "250020",
                            payrollId: "ABFS18600",
                        },
                        id: "123456789",
                        name: "Midwest Truck #4",
                    },
                },
            ],
            pagination: {
                endCursor: "MjkY",
                hasNextPage: true,
            },
        });
    });

    test("getSafetyActivityEventFeed (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: [
                {
                    id: "1622151765-212014918174029-1550954461759",
                    safetyEvent: { id: "212014918174029-1550954461759", time: "2019-06-13T19:08:25.455Z" },
                    time: "2019-10-12T07:20:50.52Z",
                    type: "BehaviorLabelActivityType",
                },
            ],
            pagination: { endCursor: "MjkY", hasNextPage: true },
        };
        server
            .mockEndpoint()
            .get("/fleet/safety-events/audit-logs/feed")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.legacyApis.getSafetyActivityEventFeed();
        expect(response).toEqual({
            data: [
                {
                    id: "1622151765-212014918174029-1550954461759",
                    safetyEvent: {
                        id: "212014918174029-1550954461759",
                        time: "2019-06-13T19:08:25.455Z",
                    },
                    time: "2019-10-12T07:20:50.52Z",
                    type: "BehaviorLabelActivityType",
                },
            ],
            pagination: {
                endCursor: "MjkY",
                hasNextPage: true,
            },
        });
    });

    test("getSafetyActivityEventFeed (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/safety-events/audit-logs/feed")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getSafetyActivityEventFeed();
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("getSafetyActivityEventFeed (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/safety-events/audit-logs/feed")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getSafetyActivityEventFeed();
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("getSafetyActivityEventFeed (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/safety-events/audit-logs/feed")
            .respondWith()
            .statusCode(405)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getSafetyActivityEventFeed();
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("getSafetyActivityEventFeed (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/safety-events/audit-logs/feed")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getSafetyActivityEventFeed();
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("getSafetyActivityEventFeed (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/safety-events/audit-logs/feed")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getSafetyActivityEventFeed();
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("getSafetyActivityEventFeed (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/safety-events/audit-logs/feed")
            .respondWith()
            .statusCode(501)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getSafetyActivityEventFeed();
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("getSafetyActivityEventFeed (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/safety-events/audit-logs/feed")
            .respondWith()
            .statusCode(502)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getSafetyActivityEventFeed();
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("getSafetyActivityEventFeed (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/safety-events/audit-logs/feed")
            .respondWith()
            .statusCode(503)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getSafetyActivityEventFeed();
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("getSafetyActivityEventFeed (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/safety-events/audit-logs/feed")
            .respondWith()
            .statusCode(504)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getSafetyActivityEventFeed();
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });

    test("getVehiclesDriverAssignments (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            data: [
                {
                    driverAssignments: [
                        {
                            driver: { id: "45646", name: "Driver Bob" },
                            endTime: "2019-06-13T19:08:25Z",
                            isPassenger: false,
                            startTime: "2019-06-13T19:08:25Z",
                        },
                    ],
                    externalIds: { key: "value" },
                    id: "494123",
                    name: "Bus-123",
                },
            ],
            pagination: { endCursor: "MjkY", hasNextPage: true },
        };
        server
            .mockEndpoint()
            .get("/fleet/vehicles/driver-assignments")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.legacyApis.getVehiclesDriverAssignments();
        expect(response).toEqual({
            data: [
                {
                    driverAssignments: [
                        {
                            driver: {
                                id: "45646",
                                name: "Driver Bob",
                            },
                            endTime: "2019-06-13T19:08:25Z",
                            isPassenger: false,
                            startTime: "2019-06-13T19:08:25Z",
                        },
                    ],
                    externalIds: {
                        key: "value",
                    },
                    id: "494123",
                    name: "Bus-123",
                },
            ],
            pagination: {
                endCursor: "MjkY",
                hasNextPage: true,
            },
        });
    });

    test("getVehiclesDriverAssignments (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/vehicles/driver-assignments")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehiclesDriverAssignments();
        }).rejects.toThrow(Samsara.UnauthorizedError);
    });

    test("getVehiclesDriverAssignments (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/vehicles/driver-assignments")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehiclesDriverAssignments();
        }).rejects.toThrow(Samsara.NotFoundError);
    });

    test("getVehiclesDriverAssignments (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/vehicles/driver-assignments")
            .respondWith()
            .statusCode(405)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehiclesDriverAssignments();
        }).rejects.toThrow(Samsara.MethodNotAllowedError);
    });

    test("getVehiclesDriverAssignments (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/vehicles/driver-assignments")
            .respondWith()
            .statusCode(429)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehiclesDriverAssignments();
        }).rejects.toThrow(Samsara.TooManyRequestsError);
    });

    test("getVehiclesDriverAssignments (6)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/vehicles/driver-assignments")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehiclesDriverAssignments();
        }).rejects.toThrow(Samsara.InternalServerError);
    });

    test("getVehiclesDriverAssignments (7)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/vehicles/driver-assignments")
            .respondWith()
            .statusCode(501)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehiclesDriverAssignments();
        }).rejects.toThrow(Samsara.NotImplementedError);
    });

    test("getVehiclesDriverAssignments (8)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/vehicles/driver-assignments")
            .respondWith()
            .statusCode(502)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehiclesDriverAssignments();
        }).rejects.toThrow(Samsara.BadGatewayError);
    });

    test("getVehiclesDriverAssignments (9)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/vehicles/driver-assignments")
            .respondWith()
            .statusCode(503)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehiclesDriverAssignments();
        }).rejects.toThrow(Samsara.ServiceUnavailableError);
    });

    test("getVehiclesDriverAssignments (10)", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/fleet/vehicles/driver-assignments")
            .respondWith()
            .statusCode(504)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.legacyApis.getVehiclesDriverAssignments();
        }).rejects.toThrow(Samsara.GatewayTimeoutError);
    });

    test("V1getAllAssets", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            assets: [
                {
                    assetSerialNumber: "SNTEST123",
                    cable: { assetType: "Thermo King" },
                    engineHours: 104,
                    id: 1,
                    name: "Trailer 123",
                    vehicleId: 2,
                },
            ],
        };
        server.mockEndpoint().get("/v1/fleet/assets").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.legacyApis.v1GetAllAssets();
        expect(response).toEqual({
            assets: [
                {
                    assetSerialNumber: "SNTEST123",
                    cable: {
                        assetType: "Thermo King",
                    },
                    engineHours: 104,
                    id: 1,
                    name: "Trailer 123",
                    vehicleId: 2,
                },
            ],
        });
    });

    test("V1getVehicleHarshEvent", async () => {
        const server = mockServerPool.createServer();
        const client = new SamsaraClient({
            maxRetries: 0,
            token: "test",
            version: "2025-06-11",
            environment: server.baseUrl,
        });

        const rawResponseBody = {
            downloadForwardVideoUrl:
                "https://samsara-dashcam-videos.s3.us-west-2.amazonaws.com/123/212123456789012/1539201872984/abC123De4-camera-video-segment-123456789.mp4?...",
            downloadInwardVideoUrl:
                "https://samsara-dashcam-videos.s3.us-west-2.amazonaws.com/123/212123456789012/1539201872984/abC123De4-camera-video-segment-driver-123456789.mp4?...",
            downloadTrackedInwardVideoUrl:
                "https://samsara-dashcam-videos.s3.us-west-2.amazonaws.com/123/212123456789012/1539201872984/abC123De4-camera-video-segment-driver-123456789.tracked.mp4?...",
            harshEventType: "Harsh Braking",
            incidentReportUrl:
                "https://cloud.samsara.com/o/1234/fleet/reports/safety/vehicle/212123456789012/incident/1539201882984",
            isDistracted: true,
            location: {
                address: "350 Rhode Island St, San Francisco, CA",
                latitude: 33.07614328,
                longitude: -96.14907287,
            },
        };
        server
            .mockEndpoint()
            .get("/v1/fleet/vehicles/1000000/safety/harsh_event")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.legacyApis.v1GetVehicleHarshEvent(1000000, {
            timestamp: 1000000,
        });
        expect(response).toEqual({
            downloadForwardVideoUrl:
                "https://samsara-dashcam-videos.s3.us-west-2.amazonaws.com/123/212123456789012/1539201872984/abC123De4-camera-video-segment-123456789.mp4?...",
            downloadInwardVideoUrl:
                "https://samsara-dashcam-videos.s3.us-west-2.amazonaws.com/123/212123456789012/1539201872984/abC123De4-camera-video-segment-driver-123456789.mp4?...",
            downloadTrackedInwardVideoUrl:
                "https://samsara-dashcam-videos.s3.us-west-2.amazonaws.com/123/212123456789012/1539201872984/abC123De4-camera-video-segment-driver-123456789.tracked.mp4?...",
            harshEventType: "Harsh Braking",
            incidentReportUrl:
                "https://cloud.samsara.com/o/1234/fleet/reports/safety/vehicle/212123456789012/incident/1539201882984",
            isDistracted: true,
            location: {
                address: "350 Rhode Island St, San Francisco, CA",
                latitude: 33.07614328,
                longitude: -96.14907287,
            },
        });
    });
});
